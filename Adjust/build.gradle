apply plugin: 'android-library'
buildscript {
  repositories {
    jcenter()
  }

  dependencies {
    classpath 'com.android.tools.build:gradle:+'
  }
}

repositories {
  jcenter()
}

dependencies {
  compile 'com.android.support:support-v4:21.0.+'
}

android {
  buildToolsVersion project.ANDROID_BUILD_TOOLS_VERSION
  compileSdkVersion Integer.parseInt(project.ANDROID_BUILD_SDK_VERSION)
  defaultConfig {
    versionCode 11
    versionName '3.6.2'
    minSdkVersion Integer.parseInt(project.ANDROID_BUILD_MIN_SDK_VERSION)
    targetSdkVersion Integer.parseInt(project.ANDROID_BUILD_TARGET_SDK_VERSION)
  }
  sourceSets {
    main {
      manifest.srcFile 'AndroidManifest.xml'
      java.srcDirs = ['src']
      resources.srcDirs = ['src']
      res.srcDirs = ['res']
      assets.srcDirs = ['assets']
    }
  }
}

android.libraryVariants.all { variant ->
    def jarTask = project.tasks.create(name:"jar${variant.name.capitalize()}", type: Jar) {
            from            variant.javaCompile.destinationDir
            exclude         "**/R.class"
            exclude          "**/BuildConfig.class"
    }
    jarTask.dependsOn variant.javaCompile
    artifacts.add('archives', jarTask);
}
